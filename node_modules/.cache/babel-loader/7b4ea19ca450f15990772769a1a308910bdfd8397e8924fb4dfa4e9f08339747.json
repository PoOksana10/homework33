{"ast":null,"code":"var _jsxFileName = \"/Users/oksanapopova/WebstormProjects/homework33/src/components/Voting/Voting.jsx\";\nimport { Component, useState } from 'react';\nimport SmileCard from '../SmileCard/SmileCard';\nimport './Voting.css';\nimport { number } from \"prop-types\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default class Voting extends Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      candidates: [],\n      isHidden: false,\n      show: true,\n      winnerEmoji: {}\n    };\n    this.changeCounter = id => {\n      this.setState(state => {\n        const candidateIndex = state.candidates.findIndex(candidate => candidate.id == id);\n        state.candidates[candidateIndex].counter++;\n        return state;\n      });\n    };\n    this.showResults = () => {\n      let maxVoices = 0;\n      let winnerEmojiFound = {};\n      this.state.candidates.forEach(candidate => {\n        if (candidate.counter > maxVoices) {\n          maxVoices = candidate.counter;\n          winnerEmojiFound = {\n            'name': candidate.name,\n            'id': candidate.id,\n            'url': candidate.url,\n            'counter': candidate.counter,\n            'description': candidate.description\n          };\n        }\n      });\n      this.setState({\n        show: false,\n        isHidden: true,\n        winnerEmoji: winnerEmojiFound\n      });\n    };\n  }\n  componentDidMount() {\n    fetch('http://localhost:3000/data.json').then(result => result.json()).then(result => {\n      const myCandidates = result.map(candidate => {\n        return {\n          ...candidate,\n          counter: 0\n        };\n      });\n      this.setState({\n        candidates: myCandidates\n      });\n    });\n  }\n  render() {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: 'main',\n      children: [!this.state.candidates.length && /*#__PURE__*/_jsxDEV(\"p\", {\n        children: \"No candidates available\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 56,\n        columnNumber: 52\n      }, this), !this.state.isHidden && !!this.state.candidates.length && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: 'top-title',\n        children: /*#__PURE__*/_jsxDEV(\"p\", {\n          children: \"Do not pass by .... Give your vote... Get chance to win various prizes!\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 59,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 58,\n        columnNumber: 77\n      }, this) && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: 'container card',\n        children: this.state.candidates.map(candidate => /*#__PURE__*/_jsxDEV(SmileCard, {\n          id: candidate.id,\n          url: candidate.url,\n          counter: candidate.counter,\n          votingAction: this.changeCounter,\n          show: this.state.show,\n          description: candidate.description,\n          winner: this.state.winnerEmoji\n        }, candidate.id, false, {\n          fileName: _jsxFileName,\n          lineNumber: 62,\n          columnNumber: 62\n        }, this))\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 61,\n        columnNumber: 29\n      }, this), !this.state.isHidden && /*#__PURE__*/_jsxDEV(\"p\", {\n        children: /*#__PURE__*/_jsxDEV(\"input\", {\n          className: 'results container',\n          type: 'button',\n          value: 'Results',\n          onClick: this.showResults\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 73,\n          columnNumber: 46\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 73,\n        columnNumber: 43\n      }, this), this.state.isHidden && /*#__PURE__*/_jsxDEV(SmileCard, {\n        id: this.state.winnerEmoji.id,\n        url: this.state.winnerEmoji.url,\n        counter: this.state.winnerEmoji.counter,\n        show: this.state.show,\n        description: this.state.winnerEmoji.description,\n        winner: this.state.winnerEmoji.name\n      }, this.state.winnerEmoji.id, false, {\n        fileName: _jsxFileName,\n        lineNumber: 77,\n        columnNumber: 21\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 55,\n      columnNumber: 17\n    }, this);\n  }\n}","map":{"version":3,"names":["Component","useState","SmileCard","number","jsxDEV","_jsxDEV","Voting","constructor","args","state","candidates","isHidden","show","winnerEmoji","changeCounter","id","setState","candidateIndex","findIndex","candidate","counter","showResults","maxVoices","winnerEmojiFound","forEach","name","url","description","componentDidMount","fetch","then","result","json","myCandidates","map","render","className","children","length","fileName","_jsxFileName","lineNumber","columnNumber","votingAction","winner","type","value","onClick"],"sources":["/Users/oksanapopova/WebstormProjects/homework33/src/components/Voting/Voting.jsx"],"sourcesContent":["import {Component, useState} from 'react'\nimport SmileCard from '../SmileCard/SmileCard';\nimport './Voting.css';\nimport {number} from \"prop-types\";\n\nexport default class Voting extends Component {\n    state = {\n        candidates: [],\n        isHidden: false,\n        show: true,\n        winnerEmoji: {},\n    };\n\n    componentDidMount() {\n        fetch('http://localhost:3000/data.json')\n            .then(result => result.json())\n            .then(result => {\n                const myCandidates = result.map(candidate => {\n                    return {\n                        ...candidate, counter: 0,\n                    };\n                });\n                this.setState({candidates: myCandidates})\n            });\n    }\n\n    changeCounter = (id) => {\n        this.setState(state => {\n            const candidateIndex = state.candidates.findIndex(candidate => candidate.id == id);\n            state.candidates[candidateIndex].counter++;\n            return state;\n        });\n    }\n\n\n    showResults = () => {\n        let maxVoices = 0\n        let winnerEmojiFound = {}\n        this.state.candidates.forEach(candidate => {\n            if (candidate.counter > maxVoices) {\n                maxVoices = candidate.counter;\n                winnerEmojiFound = {\n                    'name': candidate.name,\n                    'id': candidate.id,\n                    'url': candidate.url,\n                    'counter': candidate.counter,\n                    'description': candidate.description,\n                };\n            }\n        })\n        this.setState({show: false, isHidden: true, winnerEmoji: winnerEmojiFound})\n    }\n\n    render() {\n        return (<div className={'main'}>\n                {!this.state.candidates.length && (<p>No candidates available</p>)}\n\n                {!this.state.isHidden && !!this.state.candidates.length && (<div className={'top-title'}>\n                    <p>Do not pass by .... Give your vote... Get chance to win various\n                       prizes!</p>\n                </div>) && (<div className={'container card'}>\n                    {this.state.candidates.map(candidate => (<SmileCard\n                        id={candidate.id}\n                        url={candidate.url}\n                        key={candidate.id}\n                        counter={candidate.counter}\n                        votingAction={this.changeCounter}\n                        show={this.state.show}\n                        description={candidate.description}\n                        winner={this.state.winnerEmoji}\n                    />))}\n                </div>)}\n                {!this.state.isHidden && (<p><input className={'results container'} type={'button'} value={'Results'}\n                                                    onClick={this.showResults}/></p>\n                )}\n                {this.state.isHidden && (\n                    <SmileCard\n                        id={this.state.winnerEmoji.id}\n                        url={this.state.winnerEmoji.url}\n                        key={this.state.winnerEmoji.id}\n                        counter={this.state.winnerEmoji.counter}\n                        show={this.state.show}\n                        description={this.state.winnerEmoji.description}\n                        winner={this.state.winnerEmoji.name}\n                    />\n                )}\n            </div>\n\n        )\n    }\n}\n\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}