{"ast":null,"code":"var _jsxFileName = \"/Users/oksanapopova/WebstormProjects/homework33/src/components/Voting/Voting.jsx\";\nimport { Component, useState } from 'react';\nimport SmileCard from '../SmileCard/SmileCard';\nimport './Voting.css';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default class Voting extends Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      candidates: [],\n      isHidden: false,\n      show: true\n    };\n    this.changeCounter = id => {\n      this.setState(state => {\n        const candidateIndex = state.candidates.findIndex(candidate => candidate.id == id);\n        state.candidates[candidateIndex].counter++;\n        return state;\n      });\n    };\n    this.showResults = () => {\n      this.setState({\n        show: false,\n        isHidden: true\n      });\n    };\n  }\n  componentDidMount() {\n    fetch('http://localhost:3000/data.json').then(result => result.json()).then(result => {\n      const myCandidates = result.map(candidate => {\n        return {\n          ...candidate,\n          counter: 0\n        };\n      });\n      this.setState({\n        candidates: myCandidates\n      });\n    });\n  }\n  render() {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: 'main',\n      children: [!this.state.isHidden && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: 'top-title',\n        children: [/*#__PURE__*/_jsxDEV(\"p\", {\n          children: \"Do not pass by .... Give your vote... Get chance to win various prizes!\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 44,\n          columnNumber: 25\n        }, this), !this.state.candidates.length && /*#__PURE__*/_jsxDEV(\"p\", {\n          children: \"No candidates available\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 46,\n          columnNumber: 60\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 43,\n        columnNumber: 21\n      }, this), !!this.state.candidates.length && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: 'container card',\n        children: this.state.candidates.map(candidate => /*#__PURE__*/_jsxDEV(SmileCard, {\n          id: candidate.id,\n          name: candidate.name,\n          counter: candidate.counter,\n          votingAction: this.changeCounter,\n          show: this.state.show,\n          description: candidate.description\n        }, candidate.id, false, {\n          fileName: _jsxFileName,\n          lineNumber: 52,\n          columnNumber: 29\n        }, this))\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 50,\n        columnNumber: 21\n      }, this), !this.state.isHidden && /*#__PURE__*/_jsxDEV(\"p\", {\n        children: /*#__PURE__*/_jsxDEV(\"input\", {\n          className: 'results container',\n          type: 'button',\n          value: 'Results',\n          onClick: this.showResults\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 65,\n          columnNumber: 24\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 65,\n        columnNumber: 21\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 41,\n      columnNumber: 13\n    }, this);\n  }\n}","map":{"version":3,"names":["Component","useState","SmileCard","jsxDEV","_jsxDEV","Voting","constructor","args","state","candidates","isHidden","show","changeCounter","id","setState","candidateIndex","findIndex","candidate","counter","showResults","componentDidMount","fetch","then","result","json","myCandidates","map","render","className","children","fileName","_jsxFileName","lineNumber","columnNumber","length","name","votingAction","description","type","value","onClick"],"sources":["/Users/oksanapopova/WebstormProjects/homework33/src/components/Voting/Voting.jsx"],"sourcesContent":["import {Component, useState} from 'react'\nimport SmileCard from '../SmileCard/SmileCard';\nimport './Voting.css';\n\nexport default class Voting extends Component {\n    state = {\n        candidates: [],\n        isHidden: false,\n        show: true,\n    };\n\n    componentDidMount() {\n        fetch('http://localhost:3000/data.json')\n            .then(result => result.json())\n            .then(result => {\n                const myCandidates = result.map(candidate => {\n                    return {\n                        ...candidate,\n                        counter: 0,\n                    };\n                });\n                this.setState({candidates: myCandidates})\n            });\n    }\n\n    changeCounter = (id) => {\n        this.setState(state => {\n            const candidateIndex = state.candidates.findIndex(candidate => candidate.id == id);\n            state.candidates[candidateIndex].counter++;\n            return state;\n        });\n    }\n\n\n    showResults = () => {\n        this.setState({show: false, isHidden: true})\n    }\n\n    render() {\n        return (\n            <div className={'main'}>\n                {!this.state.isHidden && (\n                    <div className={'top-title'}>\n                        <p>Do not pass by .... Give your vote... Get chance to win various\n                           prizes!</p>\n                        {!this.state.candidates.length && (<p>No candidates available</p>)}\n                    </div>\n                )}\n                {!!this.state.candidates.length && (\n                    <div className={'container card'}>\n                        {this.state.candidates.map(candidate => (\n                            <SmileCard\n                                id={candidate.id}\n                                name={candidate.name}\n                                key={candidate.id}\n                                counter={candidate.counter}\n                                votingAction={this.changeCounter}\n                                show={this.state.show}\n                                description={candidate.description}\n                            />\n                        ))}\n                    </div>\n                )}\n                {!this.state.isHidden && (\n                    <p><input className={'results container'} type={'button'} value={'Results'}\n                              onClick={this.showResults}/></p>\n                )}\n            </div>\n        )\n    }\n}\n\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}